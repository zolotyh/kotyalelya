{"version":3,"sources":["index.js"],"names":["d","document","TITLE","IS_RELATIVES","params","URLSearchParams","window","location","search","assignVariablesHandler","set","b64EncodeUnicode","prompt","confirm","toString","initScenarioHandler","title","get","isRelative","console","log","text","querySelector","innerHTML","innerText","b64DecodeUnicode","decodeURIComponent","str","btoa","encodeURIComponent","replace","_","p1","String","fromCharCode","atob","split","map","c","charCodeAt","slice","join","addEventListener","e","preventDefault","key"],"mappings":";AAAA,IAAMA,EAAIC,SACJC,EAAQ,QACRC,EAAe,cACfC,EAAS,IAAIC,gBAAgBC,OAAOC,SAASC,QAcnD,SAASC,IACLL,EAAOM,IAAIR,EAAOS,EAAiBC,OAAO,mBAC1CR,EAAOM,IAAIP,EAAcU,QAAQ,sCACjCP,OAAOC,SAASC,OAASJ,EAAOU,WAGpC,SAASC,IACCC,IAAAA,EAAQZ,EAAOa,IAAIf,GACnBgB,EAA0C,SAA7Bd,EAAOa,IAAId,GAE9BgB,QAAQC,MAAMF,GAETF,GACDP,IAGEY,IAAAA,EAAOH,EAAa,uGAAwG,wFAElIjB,SAASqB,cAAc,aAAaC,UAAYF,EAEhDpB,SAASqB,cAAc,YAAYE,UAAYC,EAC3CC,mBAAmBV,IAI3B,SAASL,EAAiBgB,GAIfC,OAAAA,KACHC,mBAAmBF,GAAKG,QACpB,kBACA,SAAsBC,EAAGC,GACdC,OAAAA,OAAOC,aAAa,KAAOF,MAMlD,SAASP,EAAiBE,GAEfD,OAAAA,mBACHS,KAAKR,GACAS,MAAM,IACNC,IAAI,SAAUC,GACJ,MAAA,KAAO,KAAOA,EAAEC,WAAW,GAAGzB,SAAS,KAAK0B,OAAO,KAE7DC,KAAK,KA3DlBzC,EAAE0C,iBAAiB,mBAAoB3B,GACvCf,EAAE0C,iBACE,WACA,SAAAC,GACIA,EAAEC,iBACY,MAAVD,EAAEE,KACFpC,MAGR","file":"lelya.268d070e.js","sourceRoot":"..","sourcesContent":["const d = document;\nconst TITLE = \"title\";\nconst IS_RELATIVES = \"isRelatives\";\nconst params = new URLSearchParams(window.location.search);\n\nd.addEventListener(\"DOMContentLoaded\", initScenarioHandler);\nd.addEventListener(\n    \"keypress\",\n    e => {\n        e.preventDefault();\n        if (e.key === \"?\") {\n            assignVariablesHandler();\n        }\n    },\n    false\n);\n\nfunction assignVariablesHandler() {\n    params.set(TITLE, b64EncodeUnicode(prompt(\"Введите имена\")));\n    params.set(IS_RELATIVES, confirm(\"Вставить текст для близких людей?\"));\n    window.location.search = params.toString();\n}\n\nfunction initScenarioHandler() {\n    const title = params.get(TITLE);\n    const isRelative = params.get(IS_RELATIVES) === \"true\" ? true : false;\n\n    console.log(!!isRelative);\n\n    if (!title) {\n        assignVariablesHandler();\n    }\n\n    const text = isRelative ? 'В жизни бывают события неповторимые и незабываемые, которые немыслимы без присутствия близких людей.': 'Бывают в жизни радостные и счастливые моменты, которыми хочется поделиться с другими.'\n\n    document.querySelector(\".js-title\").innerHTML = text;\n\n    document.querySelector(\".js-name\").innerText = b64DecodeUnicode(\n        decodeURIComponent(title)\n    );\n}\n\nfunction b64EncodeUnicode(str) {\n    // first we use encodeURIComponent to get percent-encoded UTF-8,\n    // then we convert the percent encodings into raw bytes which\n    // can be fed into btoa.\n    return btoa(\n        encodeURIComponent(str).replace(\n            /%([0-9A-F]{2})/g,\n            function toSolidBytes(_, p1) {\n                return String.fromCharCode(\"0x\" + p1);\n            }\n        )\n    );\n}\n\nfunction b64DecodeUnicode(str) {\n    // Going backwards: from bytestream, to percent-encoding, to original string.\n    return decodeURIComponent(\n        atob(str)\n            .split(\"\")\n            .map(function (c) {\n                return \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2);\n            })\n            .join(\"\")\n    );\n}\n"]}